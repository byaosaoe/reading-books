# 3.2 관리 콘솔과 대시보드: 심플하고 직관적인 관리 도구

## 3.2.1 관리 콘솔이란?

- 관리 콘솔: 웹 브라우저에서 AWS 서비스를 관리하는 화면이다.

<hr/>

## 3.2.2 리전 선택
- 관리 콘솔은 지역을 대표하는 리전 단위로 조작한다.
- 리전은 변경 가능하다.
- 리전에 따라 사용할 수 있는 서비스와 사용할 수 없는 서비스가 있다.
- 사용할 수 없는 서비스를 선택하면 사용 가능한 리전으로 전환하라는 경고가 표시된다.

<hr/>

# 3.3 AWS IAM과 접근 권한: 접근 권한 설정

## 3.3.1 AWS IAM이란
- AWS IAM(Identity and Access Management): AWS의 인증 기능
- AWS 계정과 비슷하지만 AWS 계정은 계약을 관리하는 계정인데 반해, IAM은 각 서비스에 대한 접속을 관리하는 기능이다.
- 사람에 대해 부여하는 IAM을 `IAM 사용자`라고 한다.
- 서비스나 프로그램 등에 부여하는 IAM은 `IAM 역할`이다.
- IAM 자체는 추가 요금이 없다.
- IAM 사용자가 사용한 AWS에는 과금이 된다.
- AWS는 사용자 인증에 MFA를 사용할 것을 권장하고 있다.

<hr/>

## 3.3.2 IAM 그룹과 IAM 정책
- 사용자는 IAM 그룹으로 그룹화할 수 있다.
- 그룹화하면 같은 권한을 부여하고 싶은 사용자를 일괄로 관리할 수 있다.
- IAM 정책은 실행자가 어떤 서비스에 접속할 수 있는지 정해진 규칙을 설정하는 기능이다.
- 실행자가 무엇을 할 수 있는지를 개별로 설정하는 것이 아니라 정책을 적용하는 형태로 설정한다.
- 따라서 권한 설정을 변경하고 싶을 때도 정책만 변경하면 그룹에 속한 모든 사용자가 역할의 설정을 변경할 수 있다.
- 정책은 실행자 한 명에 대해 여러 설정을 할 수 있고, 정책 한 개를 여러 사용자나 역할에 설정할 수도 있다.

<hr/>

## 3.3.3 IAM 정책 설정하기
- IAM 정책은 무엇에 대해서 어떤 조작을 허가할지 말지를 설정하는 것이다.
- 자격 기반 정책: 실행자(사용자, 역할, 그룹)가 '어떤 일을 할 수 있는가'의 형태로 설정
- 리소스 기반 정책: 조작 대상(서버 및 폴더)에 대해서 '무엇을 허가할 것인가'의 형태로 설정
- IAM 정책은 `고객 관리형 정책`도 가능하지만 기본적으로는 미리 준비되어 있는 `AWS 관리 정책`을 사용하는 것을 추천한다.

|항목|내용|
|:---|:---|
|Statement|설정 값으로, Effect나 대상 등을 기술한다|
|Sid|정책 문서에 부여된 임의의 식별자이다|
|Effect|사용 여부를 알려준다|
|Action|허가 혹은 거부하는 특정 작업이다|
|NotAction|지정된 동작 목록을 제외한 모든 것을 명시적으로 대조한다|
|Resource|작업 대상이다|
|NotResource|지정된 리소스 목록을 제외한 모든 것을 명시적으로 대조한다|
|Condition|정책을 실행하는 타이밍 조건이다|

### 다단계 인증, 다요소 인증
- 1단계 인증은 암호를 알면 관리 콘솔에 로그인이 가능하다.
- 여기에 두 번 이상의 인증을 수행하는 것이 다단계 인증이다.
- AWS에는 ID와 암호 외의 인증으로 MFA(Multi-Factor Authentication) 장치를 사용한다.
- 앱을 실행하면 화면에 일정 시간마다 바뀌는 숫자가 표시되고 이 숫자를 로그인할 때 입력하여 인증한다.

<hr/>

# 3.4 Amazon CloudWatch: Amazon EC2의 리소스 상태 감시

## 3.4.1 Amazon CloudWatch란
- 각 AWS 서비스의 리소스 모니터링과 관리를 담당하는 서비스
- AWS의 각 서비스에서 지표, 로그 등을 수집, 기록한다.
- 수집한 로그가 임계 값을 넘으면 특정 동작이 일어나도록 설정할 수 있어 감시 상황에 대처하는 관리도 가능하다.
- 기본 요금은 없고 종량제 요금제로 사용한 만큼만 지불한다.

<hr/>

## 3.4.2 사용 가능한 조작과 Amazon CloudWatch Logs
- CPU 사용률, 볼륨의 읽기 쓰기 횟수나 바이트 수, 네트워크 송수신 패킷 수 등을 감시할 수 있다.
- 감시하고 있는 항목이 임계 값을 넘을 경우에 어떤 작업을 하도록 설정할 수 있다.
  - 이메일 송신, EC2 작동(인스턴스 시작, 정지 등), Auto Scailing(인스턴스 수를 변경), Lamda 함수에 의한 임의 프로그램 실행 등
- Amazon CloudWatch Logs를 통해 각종 로기를 기록할 수 있다.

<hr/>

# 3.5 AWS Billing and Cost Management: AWS의 비용 관리

## 3.5.1 AWS Billing and Cost Management란
- AWS 요금을 관리해주는 서비스이다.
- 요금 납부, 사용료 모니터링, 비용•사용 현황 보고 등을 사용할 수 있다.
- 서비스 해지도 여기에서 실시한다.
- AWS Cost Explorer를 사용하면 매월 어느 정도 비용이 발생했는지 서비스 단위별로 확인할 수 있다.
- AWS Budgets은 비용이 특정 임계 값을 넘었을 때 알림을 발송할 수 있는 구조로 되어 있다.
- 비용과 사용 현황 보고서는 사용 현황에 대한 자세한 데이터가 1일 1회, CSV 형식으로 Amazon S3의 S3 버킷에 저장된다.
- 이 정보를 Amazon Athena, Amazon Redshift, Amazon QuickSight 등 임의의 집계•통계 도구로 보내는 것도 가능하다.

<br/>

# 3.6 리전과 가용 영역: 세계 각국에 존재하는 데이터 센터
- 리전이란 간단히 말하면 데이터 센터이다.
- 리전별로 가용 영역(AZ)이 있어 물리적으로 독립된 설비로 설치되어 있다.
- AZ는 각각 클라우드의 독립된 파티션이며, 병용함으로써 서비스의 중단을 방지한다.
- 리전에 따라 제공되는 서비스와 제공되지 않는 서비스가 있기 때문에 서비스 제공의 모체이기도 하다.
- 특정 리전에서만 제공하는 서비스를 가용하고 싶을 때는 해당 서비스에 대해서만 다른 리전을 사용할 수도 있다.
