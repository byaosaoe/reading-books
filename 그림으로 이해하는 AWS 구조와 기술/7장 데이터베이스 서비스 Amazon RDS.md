# 7.1 데이터베이스와 RDB: 데이터를 관리하는 시스템

## 7.1.1 데이터베이스란
- 데이터베이스는 구조적으로 정리된 데이터의 집합체이다.
- 데이터가 구조화되어 있기 때문에 데이터를 검색하거나 특정 데이터만 추출하는 등 프로그램으로 데이터를 쉽게 조작할 수 있다.

<br/>

## 7.1.2 데이터베이스와 DBMS
- 데이터베이스는 어디까지나 '데이터의 집합체'이며 데이터를 조작하는 기능은 없다.
- 실제로 데이터를 조작하는 것은 데이터베이스 관리 시스템(DBMS)이다.
- 데이터베이스에 명령을 할 때 사용되는 언어 중 하나가 SQL이다.
- SQL은 명령어와 명령 방법이 정의되어 있다.
- SQL을 단독으로 사용하는 경우는 잘 없고 대부분 프로그램을 사용한다.

<br/>

## 7.1.3 DBMS
- 여러 DBMS의 기능은 크게 다르지 않다. 일부 기능이 다르거나, 처리 속도를 중시하거나, 안전성을 중시하거나, 확장하기 쉬운지 여부 등과 같이 특화된 기능이 조금씩 다를 뿐이다.
- 대규모 시스템의 경우는 벤더 지원을 받을 수 있는 유료 DBMS를 사용하는 경우가 많고, 소규모 시스템의 경우는 비용을 절감하기 위해 무료 DBMS를 사용하는 경우도 많다.

<br/>

## 7.1.4 RDB와 비RDB
- 관계형 데이터베이스
    - 표 형태로 되어 있고 데이터의 종류까지 세세하게 설정하기 때문에 구축하기까지 시간이 들지만, 그만큼 정밀한 조작이 가능하다.
    - 데이터 관련 작업은 SQL을 사용한다.
- 비관계형 데이터베이스
    - 구조가 단순하고 설정할 부분이 적기 때문에 쉽게 구축할 수 있다.
    - 복잡한 작업은 할 수 없지만 액세스가 빠르다.
    - 대표적으로 키 밸류형, 문서형 등의 구조를 가지고 있다.
    - SQL을 사용하지 않기 때문에 NoSQL 데이터베이스라고도 한다.

<hr/>

# 7.2 Amazon RDS란: 주요 RDBMS를 제공하는 데이터베이스 서비스
## 7.2.1 Amazon RDS란
- Amazon Relational Database Service(Amazon RDS)는 관계형 데이터베이스 6종류의 제품을 클라우드에 최적화된 상태로 제공하는 서비스이다.
- 데이터베이스의 제공 방식은 EC2와 비슷하다. VPC상에 인스턴스 형태로 구축하며 다양한 인스턴스 클래스를 사용할 수 있다.
- EC2와 다른 점은 RDS는 '매니지드 서비스'이며 업데이트 등의 관리가 AWS에 의해 자동으로 이루어진다는 점이다.
- 백업과 같이 번거로운 관리 작업도 자동화되어 있어 관리자가 수행할 필요가 없다.
- AWS Database Migration Server(DMS)를 사용하면 기존 데이터베이스를 이전하거나 복제하는 것도 가능하다.

<br/>

## 7.2.2 인스턴스 클래스
- RDS는 EC2와 마찬가지로 인스턴스 형식으로 사용한다.
- 인스턴스 클래스는 표준, 메모리 최적화, 버스트 성능의 3종류가 있으며 클래스에 따라 micro, small, medium, large, xlarge, 2xlarge, 4xlarge, 8xlarge, 16xlarge 크기를 제공하고 있다.
- 인스턴스 클래스에 따라 지원하지 않는 DBMS나 버전도 있다.
- 데이터베이스 인스턴스는 VPC에 설치해야 한다.
- 주요 인스턴스 클래스 종류
1. 표준
    - db.m5 등: 범용적인 인스턴스 클래스이다.
2. 메모리 최적화
    - db.x1e: 메모리를 많이 사용하는 애플리케이션에 최적화되 인스턴스 클래스로, 일부 리전에서만 제공된다.
    - db.x1: 메모리를 많이 사용하는 애플리케이션에 최적화된 인스턴스 클래스이다. 메모리 최대치가 db.x1e의 절반이다.
    - db.r5 등: 네트워크와 EBS의 성능을 강화한다. AWS Nitro System을 사용한다.
3. 버스트 성능
    - db.t3 등: CPU의 최대 사용률까지 버스트 성능으로 사용할 수 있다.
  
<br/>

## 7.2.3 RDS 요금
> RDS 요금 = ①스토리지 요금 + ②데이터베이스 인스턴스 요금 + ③백업 스토리지 요금 + ④통신료
1. 스토리지 요금
    - 사용하고 있는 스토리지에 대한 요금이다.
    - 실제 사용한 용량이 아닌 확보하고 있는 용량에 대해 과금되기 때문에 주의가 필요하다.
2. 데이터베이스 인스턴스 요금(DBMS 라이선스 요금 포함)
    - EC2 인스턴스와 마차가지로 가동한 시간당 요금이 부과된다.
    - 인스턴스 성능과 이중과 구축 여부, 사용할 데이터베이스 엔진(DBMS)에 따라서 요금이 다르다.
    - 다중 AZ로 구성하여 이중화를 구축하면 단일 AZ 구성보다 약 2배의 요금이 부과된다.
    - 유료 DBMS의 경우에는 라이선스 요금까지 추가되기 때문에 오픈 소스 데이터베이스를 사용하는 경우에 비해 비용이 높다.
3. 백업 스토리지 요금
    - 데이터베이스 인스턴스를 백업할 수 있다. 이 백업을 스냅샷이라고 한다.
    - 스냅샷은 백업 스토리지라고 하는 장소에 생성되며 사용 용량에 따라 요금을 부과한다.
    - 단, 스냅샷 요금은 리전의 데이터베이스 스토리지 크기의 100%를 넘을 경우만 발생한다.
4. 통신료
    - 데이터베이스 인스턴스가 인터넷으로 통신할 경우 해당 전송량에 대해 요금이 부과된다.
    - AZ 내에서만 통신할 경우 요금이 부과되지 않는다.
  
<br/>

## 7.2.4 RDS의 장점과 단점
- 장점
    - 매니지드 서비스라 AWS가 업데이트 등을 관리해주기 때문에 따로 관리하지 않아도 된다.
    - 간단하게 데이터베이스를 생성할 수 있다.
    - 온프레미스에서 데이터를 이전하기 쉽고 소프트웨어를 수정하지 않아도 이전이 가능하다.
    - EC2와 연동하기 쉽다.
    - 같은 네트워크 내에 있다면 통신료도 무료이다.
- 단점
    - 사용자가 자유롭게 사용할 수 없다.
    - 제공하고 있는 DBMS의 종류나 버전이 한정되어 있다.
    - AWS가 업데이트를 자동으로 수행하여 편리하지만 오히려 업데이트하면 곤란한 시점에 수행되는 경우도 있다.
